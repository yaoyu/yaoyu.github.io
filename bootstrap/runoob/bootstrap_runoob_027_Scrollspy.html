<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Bootstrap4 滚动监听(Scrollspy)</title>
    <link href="https://cdn.bootcss.com/bootstrap/4.0.0-beta.2/css/bootstrap.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/vs2015.min.css" rel="stylesheet">

    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/4.0.0-beta.2/js/bootstrap.js"></script>
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="https://cdn.bootcss.com/angular.js/1.6.6/angular.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style>
      p{
        margin-bottom: 0.5rem;
      }
  body {
      position: relative;
  }
  ul.nav-pills {
      top: 20px;
      position: fixed;
  }
  div.col-8 div {
      height: 300px;
  }
    </style>
</head>
<body data-spy="scroll" data-target="#myScrollspy" data-offset="1">
<div class="container">

<div class="article-intro" id="content">
            
            <h1>Bootstrap 滚动监听(Scrollspy)</h1>
<p>滚动监听（Scrollspy）插件，即自动更新导航插件，会根据滚动条的位置自动更新对应的导航目标。其基本的实现是随着您的滚动。</p>


<hr>
<h2>如何创建滚动监听</h2>

<p>以下实例演示了如何创建滚动监听：</p>
<!--
<nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">  
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" href="#section1">Section 1</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#section2">Section 2</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#section3">Section 3</a>
    </li>
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
        Section 4
      </a>
      <div class="dropdown-menu">
        <a class="dropdown-item" href="#section41">Link 1</a>
        <a class="dropdown-item" href="#section42">Link 2</a>
      </div>
    </li>
  </ul>
</nav>
<-->

<div class="container-fluid">
  <div class="row">
    <nav class="col-sm-3 col-4" id="myScrollspy">
      <ul class="nav nav-pills flex-column">
        <li class="nav-item">
          <a class="nav-link active" href="#section1">Section 1</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#section2">Section 2</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#section3">Section 3</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Section 4</a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="#section41">Link 1</a>
            <a class="dropdown-item" href="#section42">Link 2</a>
          </div>
        </li>
      </ul>
    </nav>
    <div class="col-sm-9 col-8">
      <div id="section1" class="bg-success">    
        <h1>Section 1</h1>
        <p>Try to scroll this section and look at the navigation list while scrolling!</p>
      </div>
      <div id="section2" class="bg-warning"> 
        <h1>Section 2</h1>
        <p>Try to scroll this section and look at the navigation list while scrolling!</p>
      </div>        
      <div id="section3" class="bg-secondary">         
        <h1>Section 3</h1>
        <p>Try to scroll this section and look at the navigation list while scrolling!</p>
      </div>
      <div id="section41" class="bg-danger">         
        <h1>Section 4-1</h1>
        <p>Try to scroll this section and look at the navigation list while scrolling!</p>
      </div>      
      <div id="section42" class="bg-info">         
        <h1>Section 4-2</h1>
        <p>Try to scroll this section and look at the navigation list while scrolling!</p>
      </div>
    </div>
  </div>
</div>


<pre><code class="html">&lt;!-- 可滚动区域 --&gt;
&lt;body data-spy=&quot;scroll&quot; data-target=&quot;.navbar&quot; data-offset=&quot;50&quot;&gt;
 
&lt;!-- The navbar - The &lt;a&gt; elements are used to jump to a section in the scrollable area --&gt;
&lt;nav class=&quot;navbar navbar-expand-sm bg-dark navbar-dark fixed-top&quot;&gt;
...
  &lt;ul class=&quot;navbar-nav&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;#section1&quot;&gt;Section 1&lt;/a&gt;&lt;/li&gt;
    ...
&lt;/nav&gt;
 
&lt;!-- 第一部分内容 --&gt;
&lt;div id=&quot;section1&quot;&gt;
  &lt;h1&gt;Section 1&lt;/h1&gt;
  &lt;p&gt;Try to scroll this page and look at the navigation bar while scrolling!&lt;/p&gt;
&lt;/div&gt;
...
 
&lt;/body&gt;
</code></pre>

<h3>实例解析</h3>

<p>向您想要监听的元素（通常是 body）添加 <mark class="marked">data-spy="scroll"</mark> 。</p>
<p>然后添加 <mark class="marked">data-target</mark> 属性，它的值为导航栏的 id 或 class (<mark class="marked">.navbar</mark>)。这样就可以联系上可滚动区域。</p>
<p>注意可滚动项元素上的 id 
（<mark class="marked">&lt;div id="section1"&gt;</mark>） 必须匹配导航栏上的链接选项 （<mark class="marked">&lt;a href="#section1"&gt;</mark>)。</p>
<p>可选项<mark class="marked">data-offset</mark> 属性用于计算滚动位置时，距离顶部的偏移像素。 默认为 10 px。</p>

  <p><strong>设置相对定位: </strong>使用
data-spy="scroll" 
的元素需要将其 CSS <strong>position</strong> 属性设置为 "relative" 才能起作用。</p>


<p>以下实例设置了垂直滚动监听：</p>





<pre><code class="html">&lt;body data-spy=&quot;scroll&quot; data-target=&quot;#myScrollspy&quot; data-offset=&quot;1&quot;&gt;
 
  &lt;div class=&quot;container-fluid&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
      &lt;nav class=&quot;col-sm-3 col-4&quot; id=&quot;myScrollspy&quot;&gt;
        &lt;ul class=&quot;nav nav-pills flex-column&quot;&gt;
          &lt;li class=&quot;nav-item&quot;&gt;
            &lt;a class=&quot;nav-link active&quot; href=&quot;#section1&quot;&gt;Section 1&lt;/a&gt;
          &lt;/li&gt;
          ...
        &lt;/ul&gt;
      &lt;/nav&gt;
      &lt;div class=&quot;col-sm-9 col-8&quot;&gt;
        &lt;div id=&quot;section1&quot;&gt; 
          &lt;h1&gt;Section 1&lt;/h1&gt;
          &lt;p&gt;Try to scroll this page and look at the navigation list while scrolling!&lt;/p&gt;
        &lt;/div&gt; 
        ...
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
 
&lt;/body&gt;
</code></pre>


</div>
</body>
</html>